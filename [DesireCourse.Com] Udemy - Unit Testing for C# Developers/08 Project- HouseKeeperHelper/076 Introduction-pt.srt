1
00:00:00,000 --> 00:00:04,000
Nesta seo, vou dar outro

2
00:00:04,000 --> 00:00:08,000
exerccio desafiador. Ento, abra a pasta

3
00:00:08,000 --> 00:00:12,000
Mocking e veja este arquivo. HouseKeeperHelper

4
00:00:12,000 --> 00:00:16,000
Nesta classe, temos um

5
00:00:16,000 --> 00:00:20,000
mtodo esttico pblico chamado SendStatementEmails.

6
00:00:20,000 --> 00:00:24,000
O trabalho deste mtodo  obter um monte de detentores de

7
00:00:24,000 --> 00:00:28,000
casa do banco de dados. Para cada governanta, ele ir gerar um

8
00:00:28,000 --> 00:00:32,000
arquivo de instruo e salv-lo no disco e, em seguida, ele enviar por e-mail

9
00:00:32,000 --> 00:00:36,000
esse arquivo de instruo para a governanta. Ento esta 

10
00:00:36,000 --> 00:00:40,000
a grande figura. Agora, se voc observar a

11
00:00:40,000 --> 00:00:44,000
implementao dessa classe, poder ver esses dois mtodos, EmailFile e

12
00:00:44,000 --> 00:00:48,000
SaveStatement, ambos so mtodos privados. Como eu disse antes, veja a mesma afirmao

13
00:00:48,000 --> 00:00:52,000
e voc pode ver que  uma declarao privada. Ento, como eu disse

14
00:00:52,000 --> 00:00:56,000
antes, voc no deve testar esses mtodos privados,

15
00:00:56,000 --> 00:01:00,000
eles so detalhes de implementao. E aqui temos EmailFile

16
00:01:00,000 --> 00:01:04,000
novamente vazio esttico privado. E o resto do

17
00:01:04,000 --> 00:01:08,000
cdigo neste arquivo so apenas stubs simples que eu

18
00:01:08,000 --> 00:01:12,000
criei para compilar este cdigo. Como um dos meus alunos me enviou

19
00:01:12,000 --> 00:01:16,000
o cdigo-fonte e eu no tinha o cdigo inteiro, tive que fazer engenharia reversa

20
00:01:16,000 --> 00:01:20,000
e gerar algumas classes para compilar o cdigo. Ento no se preocupe

21
00:01:20,000 --> 00:01:24,000
com nada disso aqui. Seu trabalho  escrever

22
00:01:24,000 --> 00:01:28,000
todos os testes de unidade necessrios para este

23
00:01:28,000 --> 00:01:32,000
mtodo, Enviar e-mails de declarao. Agora, antes de comear, quero

24
00:01:32,000 --> 00:01:36,000
dar-lhe algumas coisas (? ). Esses dois

25
00:01:36,000 --> 00:01:40,000
mtodos, SaveStatement e EmailFile, tocam recursos

26
00:01:40,000 --> 00:01:44,000
externos, portanto, no fique atento 

27
00:01:44,000 --> 00:01:48,000
implementao desses mtodos. Voc precisa extrair esses mtodos,

28
00:01:48,000 --> 00:01:52,000
coloc-los em classes separadas e, em seguida, usar a injeo de

29
00:01:52,000 --> 00:01:56,000
dependncia para injetar essas dependncias dentro dessa classe auxiliar de governanta.

30
00:01:56,000 --> 00:02:00,000
Ento, quero que voc pause o vdeo e use o que aprendeu neste curso para escrever todos

31
00:02:00,000 --> 00:02:04,000
os testes de unidade necessrios para essa classe. Em seguida,

32
00:02:04,000 --> 00:02:07,000
vamos ver minha soluo.

