1
00:00:00,000 --> 00:00:04,000
En esta seccin, te dar un

2
00:00:04,000 --> 00:00:08,000
ejercicio ms desafiante. Entonces, dentro de esta

3
00:00:08,000 --> 00:00:12,000
carpeta de Mocking, mira esta clase BookingHelper.

4
00:00:12,000 --> 00:00:16,000
Aqu tenemos un mtodo llamado

5
00:00:16,000 --> 00:00:20,000
OverlappingBookings Exist. Por lo tanto, se necesita un objeto de reserva,

6
00:00:20,000 --> 00:00:24,000
primero comprueba si esta reserva se cancela o no. Si se cancela, devolver

7
00:00:24,000 --> 00:00:28,000
una cadena vaca. De lo contrario, ejecutar una

8
00:00:28,000 --> 00:00:32,000
consulta para obtener todas las reservas existentes que no se

9
00:00:32,000 --> 00:00:36,000
cancelan, y su ID no es igual a la ID

10
00:00:36,000 --> 00:00:40,000
de este objeto de reserva que se transfiere aqu.

11
00:00:40,000 --> 00:00:44,000
Ahora en esta implementacin, este cdigo est utilizando algunos contenedores en

12
00:00:44,000 --> 00:00:48,000
el marco de la entidad. En sus aplicaciones, puede tener un mecanismo

13
00:00:48,000 --> 00:00:52,000
diferente para consultar su base de datos. Puede usar el marco de entidad,

14
00:00:52,000 --> 00:00:56,000
puede usar un ORM diferente. O puede

15
00:00:56,000 --> 00:01:00,000
usar ADO simple. Objetos NET como conexin SQL, comando SQL, etc.

16
00:01:00,000 --> 00:01:04,000
Lo que importa aqu es que este cdigo acceda a algn recurso externo,

17
00:01:04,000 --> 00:01:08,000
en este caso, una base de datos. Y como aprendi, tenemos que

18
00:01:08,000 --> 00:01:12,000
refactorizar este cdigo, y hacerlo flexiblemente acoplable y comprobable.

19
00:01:12,000 --> 00:01:16,000
Luego, una vez que obtengamos todas las reservas existentes

20
00:01:16,000 --> 00:01:20,000
que no se cancelaron, excluyendo la reserva que se

21
00:01:20,000 --> 00:01:24,000
transfiere a este mtodo, usted desea verificar si este

22
00:01:24,000 --> 00:01:28,000
objeto de reserva que pasamos aqu se superpone con

23
00:01:28,000 --> 00:01:32,000
cualquiera de las reservas existentes. Y finalmente, si no hay superposicin,

24
00:01:32,000 --> 00:01:36,000
este mtodo devolver una cadena vaca. De lo contrario, devolver

25
00:01:36,000 --> 00:01:40,000
la referencia para la primera reserva que sobrepasa

26
00:01:40,000 --> 00:01:44,000
con esta reserva existente. Por lo tanto, adelante y

27
00:01:44,000 --> 00:01:48,000
dedique algo de tiempo, y escriba todas las pruebas unitarias

28
00:01:48,000 --> 00:01:52,000
requeridas para este mtodo. Asegrese de probar todas las rutas

29
00:01:52,000 --> 00:01:56,000
de ejecucin, asegrese de que sus pruebas sean limpias, mantenibles y confiables, por

30
00:01:56,000 --> 00:02:00,000
lo que todas las mejores prcticas que haya aprendido en este curso quiero

31
00:02:00,000 --> 00:02:04,000
que las aplique en su solucin. As que pausa el video

32
00:02:04,000 --> 00:02:08,000
ahora, haz este ejercicio, y cuando termines, vuelve, reanuda y

33
00:02:08,000 --> 00:02:12,000
ve cmo escribo las pruebas unitarias para este mtodo.

