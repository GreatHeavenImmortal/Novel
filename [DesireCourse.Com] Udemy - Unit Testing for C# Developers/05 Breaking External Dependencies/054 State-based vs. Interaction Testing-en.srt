1
00:00:00,000 --> 00:00:04,000
In the unit tests we have written so far,

2
00:00:04,000 --> 00:00:08,000
we asserted that our methods returned the right value

3
00:00:08,000 --> 00:00:12,000
or set the right state. This is what we call state-based testing.

4
00:00:12,000 --> 00:00:16,000
Because we test the state changes in our application.

5
00:00:16,000 --> 00:00:20,000
However, sometimes I'm dealing with the code that touches external

6
00:00:20,000 --> 00:00:24,000
resources, we need to verify the class we're testing

7
00:00:24,000 --> 00:00:28,000
interacts with another class properly, this is what we call

8
00:00:28,000 --> 00:00:32,000
Interaction Testing. Because we test the interaction of one class,

9
00:00:32,000 --> 00:00:36,000
with another. For example, here in our order service

10
00:00:36,000 --> 00:00:40,000
class, when we place an order this order should be written to a

11
00:00:40,000 --> 00:00:44,000
storage, whatever that storage is, we don't care. It can be a database or a cloud

12
00:00:44,000 --> 00:00:48,000
storage, one of the unit tests we need to write for the place order

13
00:00:48,000 --> 00:00:52,000
method is to verify that this OrderService object

14
00:00:52,000 --> 00:00:56,000
interacts with the storage object property. So,

15
00:00:56,000 --> 00:01:00,000
we should check that our code calls the store method of the storage object

16
00:01:00,000 --> 00:01:04,000
with the right argument. That is the order object we receive here.

17
00:01:04,000 --> 00:01:08,000
In the next lecture, I'm going go show you how to test the interaction

18
00:01:08,000 --> 00:01:12,000
in between objects, however, remember to reserve this approach

19
00:01:12,000 --> 00:01:16,000
only for dealing with external resources. Because with

20
00:01:16,000 --> 00:01:20,000
interaction testing, your tests start to couple

21
00:01:20,000 --> 00:01:24,000
your (?) implementation. You verify that the right method is called

22
00:01:24,000 --> 00:01:28,000
with the right arguments. As you refactor and restructure

23
00:01:28,000 --> 00:01:32,000
your code, it is possible that you move some of these methods around.

24
00:01:32,000 --> 00:01:36,000
And with that, you may break one or more tests. So,

25
00:01:36,000 --> 00:01:40,000
as I've emphasized throughout this course, your tests should test

26
00:01:40,000 --> 00:01:44,000
the external behavior and not the implementation. So,

27
00:01:44,000 --> 00:01:48,000
prefer state based testing to interaction testing. And,

28
00:01:48,000 --> 00:01:52,000
use interaction testing only when dealing with external resources.


